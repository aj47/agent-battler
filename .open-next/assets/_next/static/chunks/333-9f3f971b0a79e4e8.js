"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{508:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4926:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5229:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5991:(e,t,r)=>{r.d(t,{dp:()=>k.dp});var s=r(4262),a=r(4689),i=r(3655);function n(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function o(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new a.i(e.message);throw t.data=(0,i.du)(e.data),t}throw Error(e.message)}return JSON.parse(r)}r(6414);var d=Object.defineProperty,l=(e,t,r)=>((e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class u{constructor(){l(this,"_isExpression"),l(this,"_value")}}var h=Object.defineProperty;class c extends u{constructor(e){super(),((e,t,r)=>((e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r))(this,"inner"),this.inner=e}serialize(){return this.inner}}function y(e){return e instanceof c?e.serialize():{$literal:(0,i.cy)(e)}}let p={eq:(e,t)=>new c({$eq:[y(e),y(t)]}),neq:(e,t)=>new c({$neq:[y(e),y(t)]}),lt:(e,t)=>new c({$lt:[y(e),y(t)]}),lte:(e,t)=>new c({$lte:[y(e),y(t)]}),gt:(e,t)=>new c({$gt:[y(e),y(t)]}),gte:(e,t)=>new c({$gte:[y(e),y(t)]}),add:(e,t)=>new c({$add:[y(e),y(t)]}),sub:(e,t)=>new c({$sub:[y(e),y(t)]}),mul:(e,t)=>new c({$mul:[y(e),y(t)]}),div:(e,t)=>new c({$div:[y(e),y(t)]}),mod:(e,t)=>new c({$mod:[y(e),y(t)]}),neg:e=>new c({$neg:y(e)}),and:(...e)=>new c({$and:e.map(y)}),or:(...e)=>new c({$or:e.map(y)}),not:e=>new c({$not:y(e)}),field:e=>new c({$field:e})};function m(e,t,r,s){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${s}\` to \`${r}\``)}var v=r(9633),b=Object.defineProperty,f=(e,t,r)=>((e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function x(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}Symbol.asyncIterator;class g{constructor(e){f(this,"state"),f(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:e},"FullTableScan"===e.source.type?this.tableNameForErrorMessages=e.source.tableName:this.tableNameForErrorMessages=e.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&x(this.state.type);let{queryId:e}=n("1.0/queryStream",{query:this.state.query,version:v.r});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&n("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){m(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new g(t)}filter(e){m(e,1,"filter","predicate");let t=this.takeQuery();if(t.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return t.operators.push({filter:y(e(p))}),new g(t)}limit(e){m(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new g(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&x(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await o("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,s.du)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(m(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,a=e.cursor,i=e?.endCursor??null,n=e.maximumRowsRead??null,{page:d,isDone:l,continueCursor:u,splitCursor:h,pageStatus:c}=await o("1.0/queryPage",{query:t,cursor:a,endCursor:i,pageSize:r,maximumRowsRead:n,maximumBytesRead:e.maximumBytesRead,version:v.r});return{page:d.map(e=>(0,s.du)(e)),isDone:l,continueCursor:u,splitCursor:h,pageStatus:c}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){m(e,1,"take","n");if(!Number.isInteger(e)||e<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${e[0]._id}, ${e[1]._id}, ...]`);return e[0]}}var w=r(6709);w.v.object({numItems:w.v.number(),cursor:w.v.union(w.v.string(),w.v.null()),endCursor:w.v.optional(w.v.union(w.v.string(),w.v.null())),id:w.v.optional(w.v.number()),maximumRowsRead:w.v.optional(w.v.number()),maximumBytesRead:w.v.optional(w.v.number())});var k=r(687),I=Object.defineProperty,q=Object.defineProperty,$=(e,t,r)=>((e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class M{constructor(e){$(this,"indexes"),$(this,"stagedDbIndexes"),$(this,"searchIndexes"),$(this,"stagedSearchIndexes"),$(this,"vectorIndexes"),$(this,"stagedVectorIndexes"),$(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=e}" indexes"(){return this.indexes}index(e,t){return Array.isArray(t)?this.indexes.push({indexDescriptor:e,fields:t}):t.staged?this.stagedDbIndexes.push({indexDescriptor:e,fields:t.fields}):this.indexes.push({indexDescriptor:e,fields:t.fields}),this}searchIndex(e,t){return t.staged?this.stagedSearchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}):this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return t.staged?this.stagedVectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){let e=this.validator.json;if("object"!=typeof e)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:e}}}function E(e){return new M((0,w.d)(e)?e:w.v.object(e))}class F{constructor(e,t){$(this,"tables"),$(this,"strictTableNameTypes"),$(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,stagedDbIndexes:s,searchIndexes:a,stagedSearchIndexes:i,vectorIndexes:n,stagedVectorIndexes:o,documentType:d}=t.export();return{tableName:e,indexes:r,stagedDbIndexes:s,searchIndexes:a,stagedSearchIndexes:i,vectorIndexes:n,stagedVectorIndexes:o,documentType:d}}),schemaValidation:this.schemaValidation})}}new F({_scheduled_functions:E({name:w.v.string(),args:w.v.array(w.v.any()),scheduledTime:w.v.float64(),completedTime:w.v.optional(w.v.float64()),state:w.v.union(w.v.object({kind:w.v.literal("pending")}),w.v.object({kind:w.v.literal("inProgress")}),w.v.object({kind:w.v.literal("success")}),w.v.object({kind:w.v.literal("failed"),error:w.v.string()}),w.v.object({kind:w.v.literal("canceled")}))}),_storage:E({sha256:w.v.string(),size:w.v.float64(),contentType:w.v.optional(w.v.string())})},void 0)},5998:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},6613:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},9540:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(1847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])}}]);