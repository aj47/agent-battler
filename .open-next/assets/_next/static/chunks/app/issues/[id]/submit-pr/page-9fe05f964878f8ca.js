(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},1185:(e,s,t)=>{Promise.resolve().then(t.bind(t,8381))},2450:(e,s,t)=>{"use strict";t.d(s,{F:()=>r});let r=t(5991).dp},3464:(e,s,t)=>{"use strict";t.d(s,{Navbar:()=>p});var r=t(5155),a=t(2619),l=t.n(a),i=t(5743),n=t(272),c=t(2450),d=t(8150),o=t(6613),u=t(5998),x=t(508),m=t(4926),h=t(5229),g=t(9540),b=t(2115);function p(){let{signOut:e}=(0,i.BG)(),s=(0,n.IT)(c.F.users.getCurrentUser),t=(0,n.IT)(c.F.notifications.getUnreadCount),[a,p]=(0,b.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)(l(),{href:"/",className:"flex items-center",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Agent Battler"})]}),(0,r.jsxs)("div",{className:"hidden md:ml-10 md:flex md:space-x-8",children:[(0,r.jsx)(l(),{href:"/issues",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-blue-600",children:"Browse Issues"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{href:"/issues/create",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-blue-600",children:"Post Issue"}),(0,r.jsxs)(l(),{href:"/leaderboard",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-blue-600",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Leaderboard"]})]})]})]}),(0,r.jsx)("div",{className:"flex items-center",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"hidden md:flex md:items-center md:space-x-4",children:[(0,r.jsxs)(l(),{href:"/notifications",className:"relative p-2 text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),t&&t>0&&(0,r.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:t})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[s.totalEarnings," pts"]})}),(0,r.jsxs)(l(),{href:"/dashboard",className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100",children:[s.image?(0,r.jsx)("img",{src:s.image,alt:s.name||"User",className:"h-8 w-8 rounded-full"}):(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,r.jsx)(x.A,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s.name||s.githubUsername})]}),(0,r.jsx)("button",{onClick:()=>void e(),className:"p-2 text-gray-600 hover:text-gray-900",title:"Sign out",children:(0,r.jsx)(m.A,{className:"h-5 w-5"})})]}),(0,r.jsx)("button",{onClick:()=>p(!a),className:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:a?(0,r.jsx)(h.A,{className:"h-6 w-6"}):(0,r.jsx)(g.A,{className:"h-6 w-6"})})]}):(0,r.jsx)(l(),{href:"/auth/signin",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Sign in with GitHub"})})]})}),a&&s&&(0,r.jsx)("div",{className:"md:hidden border-t border-gray-200",children:(0,r.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[(0,r.jsx)(l(),{href:"/issues",className:"block px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Browse Issues"}),(0,r.jsx)(l(),{href:"/issues/create",className:"block px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Post Issue"}),(0,r.jsx)(l(),{href:"/leaderboard",className:"block px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Leaderboard"}),(0,r.jsx)(l(),{href:"/dashboard",className:"block px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Dashboard"}),(0,r.jsxs)(l(),{href:"/notifications",className:"block px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:["Notifications ",t&&t>0&&"(".concat(t,")")]}),(0,r.jsx)("button",{onClick:()=>{e(),p(!1)},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100",children:"Sign out"})]})})]})}},4417:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});var r=t(5155);let a=(0,t(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function l(e){let{variant:s="primary",size:t="md",isLoading:l=!1,children:i,className:n="",disabled:c,...d}=e;return(0,r.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t]," ").concat(n),disabled:c||l,...d,children:[l&&(0,r.jsx)(a,{className:"mr-2 h-4 w-4 animate-spin"}),i]})}},5626:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5880:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8381:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(5155),a=t(2115),l=t(63),i=t(272),n=t(2450),c=t(3464),d=t(4417),o=t(5626),u=t(5880),x=t(2619),m=t.n(x);function h(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),t=e.id,x=(0,i.IT)(n.F.issues.getIssueById,{issueId:t}),h=(0,i.IT)(n.F.users.getCurrentUser),g=(0,i.IT)(n.F.codingAgents.getAllCodingAgents),b=(0,i.n_)(n.F.pullRequests.submitPullRequest),[p,y]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(),[w,k]=(0,a.useState)(!1),[A,I]=(0,a.useState)(null);if(!x||!h)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(c.Navbar,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})]});let P=async e=>{e.preventDefault(),I(null),k(!0);try{let e=f.match(/github\.com\/([^\/]+)\/([^\/]+)\/pull\/(\d+)/);if(!e)throw Error("Invalid GitHub PR URL. Please use format: https://github.com/owner/repo/pull/123");let[,r,a,l]=e,i=parseInt(l);await b({issueId:t,githubPrId:Date.now(),githubPrNumber:i,repoOwner:r,repoName:a,title:"PR #".concat(i),description:"Pull request submitted via Agent Battler",githubUrl:f,codingAgentId:N}),s.push("/issues/".concat(t))}catch(e){I(e.message||"Failed to submit PR")}finally{k(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(c.Navbar,{}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)(m(),{href:"/issues/".concat(t),className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Back to Issue"]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Submit Pull Request"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Link your GitHub PR to this issue and specify which AI coding agent you used"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2",children:["Issue: ",x.title]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:[x.repoOwner,"/",x.repoName]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Bounty: ",x.bountyAmount," points"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("a",{href:x.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-700",children:["View Issue",(0,r.jsx)(u.A,{className:"h-3 w-3 ml-1"})]})]})]}),(0,r.jsxs)("form",{onSubmit:P,className:"bg-white rounded-lg border border-gray-200 p-6",children:[A&&(0,r.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-800",children:A})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GitHub Pull Request URL *"}),(0,r.jsx)("input",{type:"url",required:!0,placeholder:"https://github.com/owner/repo/pull/123",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:['Make sure your PR references this issue (e.g., "Fixes #',x.githubIssueNumber,'")']})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Which AI Coding Agent did you use? *"}),(0,r.jsxs)("select",{required:!0,value:N||"",onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"Select an agent..."}),null==g?void 0:g.map(e=>(0,r.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Help us track which AI coding agents are most successful!"})]}),(0,r.jsxs)("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Before submitting:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"Make sure your PR is created on GitHub"}),(0,r.jsx)("li",{children:"Reference the issue number in your PR description"}),(0,r.jsx)("li",{children:"Ensure your code follows the repository's guidelines"}),(0,r.jsx)("li",{children:"Test your changes thoroughly"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)(d.$,{type:"button",variant:"secondary",onClick:()=>s.push("/issues/".concat(t)),children:"Cancel"}),(0,r.jsx)(d.$,{type:"submit",variant:"primary",isLoading:w,disabled:!f||!N,children:"Submit Pull Request"})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"What happens next?"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"Your PR will be visible on the issue page"}),(0,r.jsx)("li",{children:"The issue creator will review your PR"}),(0,r.jsx)("li",{children:"If approved, you'll earn the bounty points"}),(0,r.jsx)("li",{children:"Your chosen AI agent's stats will be updated"})]})]})]})]})}}},e=>{e.O(0,[743,738,333,441,255,358],()=>e(e.s=1185)),_N_E=e.O()}]);